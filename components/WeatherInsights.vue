<template>
  <div class="insights-container bg-gradient-to-br from-blue-500/30 to-purple-500/30 backdrop-blur-md rounded-xl p-5 shadow-lg transform transition-all duration-300 hover:shadow-xl">
    <h3 class="text-xl font-bold text-white mb-4 flex items-center">
      <span class="mr-2">‚ú®</span> ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥
    </h3>
    
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <!-- Activity Recommendations -->
      <div class="recommendation-card bg-white/20 backdrop-blur-sm rounded-lg p-4 border border-white/30 shadow-inner">
        <div class="flex items-center mb-3">
          <div class="p-2 bg-blue-500/30 rounded-full mr-3">
            <span class="text-xl">{{ activityEmoji }}</span>
          </div>
          <p class="font-semibold text-white">‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</p>
        </div>
        <div class="text-white/90">
          <p class="font-medium mb-1">&nbsp;{{ activityTitle }}</p>
          <p class="text-sm italic">&nbsp;{{ activityDescription }}</p>
        </div>
      </div>
      
      <!-- Clothing Suggestions -->
      <div class="recommendation-card bg-white/20 backdrop-blur-sm rounded-lg p-4 border border-white/30 shadow-inner">
        <div class="flex items-center mb-3">
          <div class="p-2 bg-blue-500/30 rounded-full mr-3">
            <span class="text-xl">{{ clothingEmoji }}</span>
          </div>
          <p class="font-semibold text-white">‡∏Å‡∏≤‡∏£‡πÅ‡∏ï‡πà‡∏á‡∏Å‡∏≤‡∏¢</p>
        </div>
        <div class="text-white/90">
          <p class="font-medium mb-1">&nbsp;{{ clothingTitle }}</p>
          <p class="text-sm italic">&nbsp;{{ clothingDescription }}</p>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
import { computed } from 'vue';

const props = defineProps({
  weather: {
    type: Object,
    required: true
  }
});

// Activity recommendation title and description
const activityData = computed(() => {

  const temp = props.weather.main.temp;
  const condition = props.weather.weather[0].main.toLowerCase();
  const windSpeed = props.weather.wind.speed;
  
  if (condition.includes('rain') || condition.includes('drizzle') || condition.includes('thunderstorm')) {
    return {
      title: '‡∏ó‡∏≥‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÉ‡∏ô‡∏£‡πà‡∏°',
      description: '‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏ù‡∏ô‡∏ï‡∏Å ‡∏Ñ‡∏ß‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠ ‡∏î‡∏π‡∏´‡∏ô‡∏±‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏õ‡∏´‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏û‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤'
    };
  } else if (condition.includes('snow')) {
    return {
      title: '‡πÄ‡∏•‡πà‡∏ô‡∏´‡∏¥‡∏°‡∏∞‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏¢‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô',
      description: '‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏´‡∏¥‡∏°‡∏∞‡∏ï‡∏Å ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÄ‡∏•‡πà‡∏ô‡∏´‡∏¥‡∏°‡∏∞ ‡∏´‡∏£‡∏∑‡∏≠‡∏à‡∏¥‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°‡∏≠‡∏∏‡πà‡∏ô‡πÜ'
    };
  } else if (condition.includes('clear') && temp > 30) {
    return {
      title: '‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏≤‡∏á‡∏ô‡πâ‡∏≥',
      description: '‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏£‡πâ‡∏≠‡∏ô‡πÅ‡∏ï‡πà‡πÅ‡∏à‡πà‡∏°‡πÉ‡∏™ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡πà‡∏≤‡∏¢‡∏ô‡πâ‡∏≥ ‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡∏ó‡∏≤‡∏Ñ‡∏£‡∏µ‡∏°‡∏Å‡∏±‡∏ô‡πÅ‡∏î‡∏î'
    };
  } else if (condition.includes('clear') && temp >= 25 && temp <= 30) {
    return {
      title: '‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏à‡πâ‡∏á',
      description: '‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏î‡∏µ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏° ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏¥‡∏Å‡∏ô‡∏¥‡∏Å ‡∏õ‡∏±‡πà‡∏ô‡∏à‡∏±‡∏Å‡∏£‡∏¢‡∏≤‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏ô‡∏™‡∏ß‡∏ô'
    };
  } else if (condition.includes('clear') && temp < 25) {
    return {
      title: '‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏à‡πâ‡∏á',
      description: '‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÄ‡∏¢‡πá‡∏ô‡∏™‡∏ö‡∏≤‡∏¢ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏Ç‡∏≤ ‡∏´‡∏£‡∏∑‡∏≠‡∏ß‡∏¥‡πà‡∏á‡∏à‡πä‡∏≠‡∏Å‡∏Å‡∏¥‡πâ‡∏á'
    };
  } else if (condition.includes('cloud')) {
    return {
      title: '‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏•‡πà‡∏ô‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ',
      description: '‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡πÄ‡∏°‡∏Ü‡∏°‡∏≤‡∏Å ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ ‡∏´‡∏£‡∏∑‡∏≠‡∏ô‡∏±‡πà‡∏á‡∏£‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡πÅ‡∏ü‡∏ä‡∏¥‡∏•‡πÜ'
    };
  } else if (condition.includes('mist') || condition.includes('fog') || condition.includes('haze')) {
    return {
      title: '‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÉ‡∏ô‡∏£‡πà‡∏°',
      description: '‡∏ó‡∏±‡∏®‡∏ô‡∏ß‡∏¥‡∏™‡∏±‡∏¢‡πÑ‡∏°‡πà‡∏î‡∏µ ‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏°‡∏±‡∏î‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡∏±‡∏ö‡∏Ç‡∏µ‡πà ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏¢‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô'
    };
  } else if (windSpeed > 10) {
    return {
      title: '‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏ó‡∏µ‡πà‡πÇ‡∏•‡πà‡∏á‡πÅ‡∏à‡πâ‡∏á',
      description: '‡∏•‡∏°‡πÅ‡∏£‡∏á‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ ‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÄ‡∏ö‡∏≤ ‡πÄ‡∏ä‡πà‡∏ô ‡∏£‡πà‡∏° ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ï‡πá‡∏ô‡∏ó‡πå'
    };
  } else {
    return {
      title: '‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢',
      description: '‡∏™‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏õ‡∏Å‡∏ï‡∏¥ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏≥‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏±‡πâ‡∏á‡πÉ‡∏ô‡∏£‡πà‡∏°‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏à‡πâ‡∏á'
    };
  }
});

const activityTitle = computed(() => activityData.value.title);
const activityDescription = computed(() => activityData.value.description);

// Clothing suggestion based on temperature and conditions
const clothingData = computed(() => {
  const temp = props.weather.main.temp;
  const condition = props.weather.weather[0].main.toLowerCase();
  const humidity = props.weather.main.humidity;
  
  if (condition.includes('rain') || condition.includes('drizzle')) {
    return {
      title: '‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏£‡πà‡∏°‡πÅ‡∏•‡∏∞‡∏ä‡∏∏‡∏î‡∏Å‡∏±‡∏ô‡∏ù‡∏ô',
      description: '‡∏Ñ‡∏ß‡∏£‡∏û‡∏Å‡∏£‡πà‡∏° ‡πÉ‡∏™‡πà‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Å‡∏±‡∏ô‡∏ù‡∏ô ‡∏£‡∏≠‡∏á‡πÄ‡∏ó‡πâ‡∏≤‡∏Å‡∏±‡∏ô‡∏ô‡πâ‡∏≥ ‡πÅ‡∏•‡∏∞‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏£‡∏≠‡∏á‡πÄ‡∏ó‡πâ‡∏≤‡∏ú‡πâ‡∏≤'
    };
  } else if (condition.includes('thunderstorm')) {
    return {
      title: '‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏£‡πà‡∏°‡πÅ‡∏•‡∏∞‡∏Å‡∏±‡∏ô‡∏ù‡∏ô',
      description: '‡∏ù‡∏ô‡∏ü‡πâ‡∏≤‡∏Ñ‡∏∞‡∏ô‡∏≠‡∏á ‡∏Ñ‡∏ß‡∏£‡∏û‡∏Å‡∏£‡πà‡∏° ‡πÉ‡∏™‡πà‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Å‡∏±‡∏ô‡∏ù‡∏ô ‡∏£‡∏≠‡∏á‡πÄ‡∏ó‡πâ‡∏≤‡∏Å‡∏±‡∏ô‡∏ô‡πâ‡∏≥'
    };
  } else if (humidity > 80 && temp > 25) {
    return {
      title: '‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏≠‡∏≤‡∏Å‡∏≤‡∏®',
      description: '‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏£‡πâ‡∏≠‡∏ô‡∏ä‡∏∑‡πâ‡∏ô ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏™‡πà‡∏ú‡πâ‡∏≤‡∏ù‡πâ‡∏≤‡∏¢ ‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏ú‡πâ‡∏≤‡∏™‡∏±‡∏á‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå'
    };
  } else if (temp >= 35) {
    return {
      title: '‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤‡∏ö‡∏≤‡∏á‡πÄ‡∏ö‡∏≤‡∏™‡∏µ‡∏≠‡πà‡∏≠‡∏ô',
      description: '‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏£‡πâ‡∏≠‡∏ô‡∏°‡∏≤‡∏Å ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏™‡πà‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏î‡∏µ ‡∏´‡∏°‡∏ß‡∏Å‡πÅ‡∏•‡∏∞‡πÅ‡∏ß‡πà‡∏ô‡∏Å‡∏±‡∏ô‡πÅ‡∏î‡∏î'
    };
  } else if (temp >= 30 && temp < 35) {
    return {
      title: '‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡πÅ‡∏Ç‡∏ô‡∏™‡∏±‡πâ‡∏ô‡∏Å‡∏≤‡∏á‡πÄ‡∏Å‡∏á‡∏Ç‡∏≤‡∏™‡∏±‡πâ‡∏ô',
      description: '‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏£‡πâ‡∏≠‡∏ô ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏™‡πà‡∏ú‡πâ‡∏≤‡∏ù‡πâ‡∏≤‡∏¢ ‡πÅ‡∏•‡∏∞‡∏û‡∏Å‡∏£‡πà‡∏°‡∏Å‡∏±‡∏ô‡πÅ‡∏î‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏≠‡∏Å‡∏ô‡∏≠‡∏Å‡∏ö‡πâ‡∏≤‡∏ô'
    };
  } else if (temp >= 25 && temp < 30) {
    return {
      title: '‡∏ä‡∏∏‡∏î‡∏™‡∏ö‡∏≤‡∏¢‡πÜ ‡πÅ‡∏•‡∏∞‡∏£‡∏≠‡∏á‡πÄ‡∏ó‡πâ‡∏≤‡πÅ‡∏ï‡∏∞',
      description: '‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏≠‡∏ö‡∏≠‡∏∏‡πà‡∏ô ‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏¢‡∏∑‡∏î ‡∏Å‡∏≤‡∏á‡πÄ‡∏Å‡∏á‡∏Ç‡∏≤‡∏™‡∏±‡πâ‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏≤‡∏á‡πÄ‡∏Å‡∏á‡πÄ‡∏ö‡∏≤‡∏™‡∏ö‡∏≤‡∏¢'
    };
  } else if (temp >= 20 && temp < 25) {
    return {
      title: '‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡πÅ‡∏Ç‡∏ô‡∏¢‡∏≤‡∏ß‡∏ö‡∏≤‡∏á',
      description: '‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÄ‡∏¢‡πá‡∏ô‡∏™‡∏ö‡∏≤‡∏¢ ‡∏Å‡∏≤‡∏á‡πÄ‡∏Å‡∏á‡∏Ç‡∏≤‡∏¢‡∏≤‡∏ß ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Ñ‡∏•‡∏∏‡∏°‡∏ö‡∏≤‡∏á‡πÄ‡∏ö‡∏≤'
    };
  } else if (temp >= 15 && temp < 20) {
    return {
      title: '‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡πÅ‡∏Ç‡∏ô‡∏¢‡∏≤‡∏ß‡πÅ‡∏•‡∏∞‡∏ñ‡∏∏‡∏á‡πÄ‡∏ó‡πâ‡∏≤',
      description: '‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÄ‡∏¢‡πá‡∏ô ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏™‡πà‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Ñ‡∏•‡∏∏‡∏°‡∏ö‡∏≤‡∏á ‡∏Å‡∏≤‡∏á‡πÄ‡∏Å‡∏á‡∏Ç‡∏≤‡∏¢‡∏≤‡∏ß ‡∏ñ‡∏∏‡∏á‡πÄ‡∏ó‡πâ‡∏≤'
    };
  } else if (temp >= 10 && temp < 15) {
    return {
      title: '‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Å‡∏±‡∏ô‡∏´‡∏ô‡∏≤‡∏ß‡∏ö‡∏≤‡∏á',
      description: '‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏Ñ‡πà‡∏≠‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡∏´‡∏ô‡∏≤‡∏ß ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏™‡πà‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ä‡∏±‡πâ‡∏ô‡πÉ‡∏ô ‡∏Å‡∏≤‡∏á‡πÄ‡∏Å‡∏á‡∏Ç‡∏≤‡∏¢‡∏≤‡∏ß ‡∏ñ‡∏∏‡∏á‡πÄ‡∏ó‡πâ‡∏≤‡∏´‡∏ô‡∏≤'
    };
  } else {
    return {
      title: '‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Å‡∏±‡∏ô‡∏´‡∏ô‡∏≤‡∏ß‡∏´‡∏ô‡∏≤',
      description: '‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏´‡∏ô‡∏≤‡∏ß ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏™‡πà‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏´‡∏•‡∏≤‡∏¢‡∏ä‡∏±‡πâ‡∏ô ‡∏ú‡πâ‡∏≤‡∏û‡∏±‡∏ô‡∏Ñ‡∏≠ ‡∏ñ‡∏∏‡∏á‡∏°‡∏∑‡∏≠ ‡∏´‡∏°‡∏ß‡∏Å‡πÑ‡∏´‡∏°‡∏û‡∏£‡∏°'
    };
  }
});

const clothingTitle = computed(() => clothingData.value.title);
const clothingDescription = computed(() => clothingData.value.description);

// Emojis for the recommendations
const activityEmoji = computed(() => {
  const condition = props.weather.weather[0].main.toLowerCase();
  
  if (condition.includes('rain') || condition.includes('drizzle') || condition.includes('thunderstorm')) {
    return 'üè†';
  } else if (condition.includes('snow')) {
    return '‚òÉÔ∏è';
  } else if (condition.includes('clear') && props.weather.main.temp > 30) {
    return 'üèä';
  } else if (condition.includes('clear')) {
    return 'üö∂';
  } else if (condition.includes('cloud')) {
    return 'üì∏';
  } else if (condition.includes('mist') || condition.includes('fog') || condition.includes('haze')) {
    return 'üßò';
  } else {
    return 'üåà';
  }
});

const clothingEmoji = computed(() => {
  const temp = props.weather.main.temp;
  const condition = props.weather.weather[0].main.toLowerCase();
  
  if (condition.includes('rain') || condition.includes('drizzle') || condition.includes('thunderstorm')) {
    return '‚òÇÔ∏è';
  } else if (temp >= 30) {
    return 'üëï';
  } else if (temp >= 20 && temp < 30) {
    return 'üëö';
  } else if (temp >= 10 && temp < 20) {
    return 'üß•';
  } else {
    return 'üß£';
  }
});
</script>

<style scoped>
.insights-container {
  margin-top: 1.5rem;
  margin-bottom: 1.5rem;
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.recommendation-card {
  transition: all 0.3s ease;
}

.recommendation-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
}
</style>
